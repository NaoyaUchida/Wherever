<ul class="photos-list-inner clearfix">
    <li class="photos-lineup">
        <a class="photos-lineup-link" href="javascript:void(0);">
            <img src="photos/Germany/IMG_4340.jpg" alt="sceneImg"/>
            <div class="photo-overlay">
                <p>Nuremberg</p>
            </div>
        </a>
    </li>
    <li class="photos-lineup">
        <a class="photos-lineup-link" href="javascript:void(0);">
            <img src="photos/Germany/IMG_4364.jpg" alt="sceneImg"/>
            <div class="photo-overlay">
                <p>Fussen</p>
            </div>
        </a>
    </li>
    <li class="photos-lineup">
        <a class="photos-lineup-link" href="javascript:void(0);">
            <img src="photos/Germany/IMG_4390.jpg" alt="sceneImg"/>
            <div class="photo-overlay">
                <p>Munich</p>
            </div>
        </a>
    </li>
    <li class="photos-lineup">
        <a class="photos-lineup-link" href="javascript:void(0);">
            <img src="photos/Germany/IMG_4391.jpg" alt="sceneImg"/>
            <div class="photo-overlay">
                <p>Munich</p>
            </div>
        </a>
    </li>
    <li class="photos-lineup">
        <a class="photos-lineup-link" href="javascript:void(0);">
            <img src="photos/Germany/IMG_4411.jpg" alt="sceneImg"/>
            <div class="photo-overlay">
                <p>Berlin</p>
            </div>
        </a>
    </li>
    <li class="photos-lineup">
        <a class="photos-lineup-link" href="javascript:void(0);">
            <img src="photos/Germany/IMG_4413.jpg" alt="sceneImg"/>
            <div class="photo-overlay">
                <p>Berlin</p>
            </div>
        </a>
    </li>
    <li class="photos-lineup">
        <a class="photos-lineup-link" href="javascript:void(0);">
            <img src="photos/Germany/IMG_4415.jpg" alt="sceneImg"/>
            <div class="photo-overlay">
                <p>Berlin</p>
            </div>
        </a>
    </li>
    <li class="photos-lineup">
        <a class="photos-lineup-link" href="javascript:void(0);">
            <img src="photos/Germany/IMG_4419.jpg" alt="sceneImg"/>
            <div class="photo-overlay">
                <p>Berlin</p>
            </div>
        </a>
    </li>
    <li class="photos-lineup">
        <a class="photos-lineup-link" href="javascript:void(0);">
            <img src="photos/Germany/PC161164.jpg" alt="sceneImg"/>
            <div class="photo-overlay">
                <p>Nuremberg</p>
            </div>
        </a>
    </li>
    <li class="photos-lineup">
        <a class="photos-lineup-link" href="javascript:void(0);">
            <img src="photos/Germany/PC161292.jpg" alt="sceneImg"/>
            <div class="photo-overlay">
                <p>Nuremberg</p>
            </div>
        </a>
    </li>
    <li class="photos-lineup">
        <a class="photos-lineup-link" href="javascript:void(0);">
            <img src="photos/Germany/PC171335.jpg" alt="sceneImg"/>
            <div class="photo-overlay">
                <p>Fussen</p>
            </div>
        </a>
    </li>
    <li class="photos-lineup">
        <a class="photos-lineup-link" href="javascript:void(0);">
            <img src="photos/Germany/PC171368.jpg" alt="sceneImg"/>
            <div class="photo-overlay">
                <p>Fussen</p>
            </div>
        </a>
    </li>
    <li class="photos-lineup">
        <a class="photos-lineup-link" href="javascript:void(0);">
            <img src="photos/Germany/PC171382.jpg" alt="sceneImg"/>
            <div class="photo-overlay">
                <p>Fussen</p>
            </div>
        </a>
    </li>
    <li class="photos-lineup">
        <a class="photos-lineup-link" href="javascript:void(0);">
            <img src="photos/Germany/PC171402.jpg" alt="sceneImg"/>
            <div class="photo-overlay">
                <p>Fussen</p>
            </div>
        </a>
    </li>
    <li class="photos-lineup">
        <a class="photos-lineup-link" href="javascript:void(0);">
            <img src="photos/Germany/PC171415.jpg" alt="sceneImg"/>
            <div class="photo-overlay">
                <p>Fussen</p>
            </div>
        </a>
    </li>
    <li class="photos-lineup">
        <a class="photos-lineup-link" href="javascript:void(0);">
            <img src="photos/Germany/PC181579.jpg" alt="sceneImg"/>
            <div class="photo-overlay">
                <p>Munich</p>
            </div>
        </a>
    </li>
    <li class="photos-lineup">
        <a class="photos-lineup-link" href="javascript:void(0);">
            <img src="photos/Germany/PC181679.jpg" alt="sceneImg"/>
            <div class="photo-overlay">
                <p>Munich</p>
            </div>
        </a>
    </li>
    <li class="photos-lineup">
        <a class="photos-lineup-link" href="javascript:void(0);">
            <img src="photos/Germany/PC181755.jpg" alt="sceneImg"/>
            <div class="photo-overlay">
                <p>Munich</p>
            </div>
        </a>
    </li>
    <li class="photos-lineup">
        <a class="photos-lineup-link" href="javascript:void(0);">
            <img src="photos/Germany/PC181768.jpg" alt="sceneImg"/>
            <div class="photo-overlay">
                <p>Munich</p>
            </div>
        </a>
    </li>
    <li class="photos-lineup">
        <a class="photos-lineup-link" href="javascript:void(0);">
            <img src="photos/Germany/PC181828.jpg" alt="sceneImg"/>
            <div class="photo-overlay">
                <p>Munich</p>
            </div>
        </a>
    </li>
    <li class="photos-lineup">
        <a class="photos-lineup-link" href="javascript:void(0);">
            <img src="photos/Germany/PC181845.jpg" alt="sceneImg"/>
            <div class="photo-overlay">
                <p>Munich</p>
            </div>
        </a>
    </li>
    <li class="photos-lineup">
        <a class="photos-lineup-link" href="javascript:void(0);">
            <img src="photos/Germany/PC181852.jpg" alt="sceneImg"/>
            <div class="photo-overlay">
                <p>Munich</p>
            </div>
        </a>
    </li>
    <li class="photos-lineup">
        <a class="photos-lineup-link" href="javascript:void(0);">
            <img src="photos/Germany/PC181877.jpg" alt="sceneImg"/>
            <div class="photo-overlay">
                <p>Nuremberg</p>
            </div>
        </a>
    </li>
    <li class="photos-lineup">
        <a class="photos-lineup-link" href="javascript:void(0);">
            <img src="photos/Germany/PC181880.jpg" alt="sceneImg"/>
            <div class="photo-overlay">
                <p>Nuremberg</p>
            </div>
        </a>
    </li>
    <li class="photos-lineup">
        <a class="photos-lineup-link" href="javascript:void(0);">
            <img src="photos/Germany/PC181882.jpg" alt="sceneImg"/>
            <div class="photo-overlay">
                <p>Nuremberg</p>
            </div>
        </a>
    </li>
    <li class="photos-lineup">
        <a class="photos-lineup-link" href="javascript:void(0);">
            <img src="photos/Germany/PC181883.jpg" alt="sceneImg"/>
            <div class="photo-overlay">
                <p>Munich</p>
            </div>
        </a>
    </li>
    <li class="photos-lineup">
        <a class="photos-lineup-link" href="javascript:void(0);">
            <img src="photos/Germany/PC181900.jpg" alt="sceneImg"/>
            <div class="photo-overlay">
                <p>Munich</p>
            </div>
        </a>
    </li>
    <li class="photos-lineup">
        <a class="photos-lineup-link" href="javascript:void(0);">
            <img src="photos/Germany/PC192058.jpg" alt="sceneImg"/>
            <div class="photo-overlay">
                <p>Berlin</p>
            </div>
        </a>
    </li>
    <li class="photos-lineup">
        <a class="photos-lineup-link" href="javascript:void(0);">
            <img src="photos/Germany/PC192087.jpg" alt="sceneImg"/>
            <div class="photo-overlay">
                <p>Berlin</p>
            </div>
        </a>
    </li>
    <li class="photos-lineup">
        <a class="photos-lineup-link" href="javascript:void(0);">
            <img src="photos/Germany/PC192094.jpg" alt="sceneImg"/>
            <div class="photo-overlay">
                <p>Berlin</p>
            </div>
        </a>
    </li>
    <li class="photos-lineup">
        <a class="photos-lineup-link" href="javascript:void(0);">
            <img src="photos/Germany/PC192112.jpg" alt="sceneImg"/>
            <div class="photo-overlay">
                <p>Berlin</p>
            </div>
        </a>
    </li>
    <li class="photos-lineup">
        <a class="photos-lineup-link" href="javascript:void(0);">
            <img src="photos/Germany/PC202126.jpg" alt="sceneImg"/>
            <div class="photo-overlay">
                <p>Berlin</p>
            </div>
        </a>
    </li>
    <li class="photos-lineup">
        <a class="photos-lineup-link" href="javascript:void(0);">
            <img src="photos/Germany/PC202175.jpg" alt="sceneImg"/>
            <div class="photo-overlay">
                <p>Berlin</p>
            </div>
        </a>
    </li>
    <li class="photos-lineup">
        <a class="photos-lineup-link" href="javascript:void(0);">
            <img src="photos/Germany/PC202201.jpg" alt="sceneImg"/>
            <div class="photo-overlay">
                <p>Berlin</p>
            </div>
        </a>
    </li>
    <li class="photos-lineup">
        <a class="photos-lineup-link" href="javascript:void(0);">
            <img src="photos/Germany/PC202210.jpg" alt="sceneImg"/>
            <div class="photo-overlay">
                <p>Berlin</p>
            </div>
        </a>
    </li>
    <li class="photos-lineup">
        <a class="photos-lineup-link" href="javascript:void(0);">
            <img src="photos/Germany/PC202251.jpg" alt="sceneImg"/>
            <div class="photo-overlay">
                <p>Berlin</p>
            </div>
        </a>
    </li>
    <li class="photos-lineup">
        <a class="photos-lineup-link" href="javascript:void(0);">
            <img src="photos/Germany/PC202284.jpg" alt="sceneImg"/>
            <div class="photo-overlay">
                <p>Berlin</p>
            </div>
        </a>
    </li>
    <li class="photos-lineup">
        <a class="photos-lineup-link" href="javascript:void(0);">
            <img src="photos/Germany/PC202298.jpg" alt="sceneImg"/>
            <div class="photo-overlay">
                <p>Berlin</p>
            </div>
        </a>
    </li>
    <li class="photos-lineup">
        <a class="photos-lineup-link" href="javascript:void(0);">
            <img src="photos/Germany/PC202306.jpg" alt="sceneImg"/>
            <div class="photo-overlay">
                <p>Berlin</p>
            </div>
        </a>
    </li>
    <li class="photos-lineup">
        <a class="photos-lineup-link" href="javascript:void(0);">
            <img src="photos/Germany/IMG_4319.jpg" alt="sceneImg"/>
            <div class="photo-overlay">
                <p>Nuremberg</p>
            </div>
        </a>
    </li>
    <li class="photos-lineup">
        <a class="photos-lineup-link" href="javascript:void(0);">
            <img src="photos/Germany/IMG_4370.jpg" alt="sceneImg"/>
            <div class="photo-overlay">
                <p>Munich</p>
            </div>
        </a>
    </li>
    <li class="photos-lineup">
        <a class="photos-lineup-link" href="javascript:void(0);">
            <img src="photos/Germany/IMG_4372.jpg" alt="sceneImg"/>
            <div class="photo-overlay">
                <p>Munich</p>
            </div>
        </a>
    </li>
    <li class="photos-lineup">
        <a class="photos-lineup-link" href="javascript:void(0);">
            <img src="photos/Germany/PC161155.jpg" alt="sceneImg"/>
            <div class="photo-overlay">
                <p>Nuremberg</p>
            </div>
        </a>
    </li>
    <li class="photos-lineup">
        <a class="photos-lineup-link" href="javascript:void(0);">
            <img src="photos/Germany/PC202239.jpg" alt="sceneImg"/>
            <div class="photo-overlay">
                <p>Berlin</p>
            </div>
        </a>
    </li>
    <li class="photos-lineup">
        <a class="photos-lineup-link" href="javascript:void(0);">
            <img src="photos/Germany/PC161280.jpg" alt="sceneImg"/>
            <div class="photo-overlay">
                <p>Munich</p>
            </div>
        </a>
    </li>
    <li class="photos-lineup">
        <a class="photos-lineup-link" href="javascript:void(0);">
            <img src="photos/Germany/PC181567.jpg" alt="sceneImg"/>
            <div class="photo-overlay">
                <p>Munich</p>
            </div>
        </a>
    </li>
</ul>
<script>
    $(function() {
        var windowTop,
                $window = window,
                $photosLink = $(".photos-lineup-link");

        //button押した時の挙動
        $photosLink.on("click", function (e) {

            var index = $photosLink.index(this),
                    $imgHeight = $photosLink.eq(index).height();

            //もともとの機能を中断させる
            e.preventDefault();

            //波紋のアニメーションになる要素を追加
            $(this).append("<span></span>");

            /*追加した部分▼*/

            var $span = $(this).find("span"),　//波紋アニメーションの変数
                    offSet = $(this).offset(), //ボタンの位置を取得
                    offSetY = event.pageY - offSet.top, //縦のボタンの位置と押した時の座標を計算
                    offSetX = event.pageX - offSet.left;　//横のボタンの位置と押した時の座標を計算

            //波紋アニメーションに計算した座標のポジションを代入
            $span.css({
                top: offSetY,
                left: offSetX
            });

            //波紋アニメーションを1.8秒表示させてから要素を消す
            $window.setTimeout(function () {
                $span.remove();
            }, 1000);

            setTimeout(function () {
                photosSrc = $(".photos-lineup-link img").eq(index).attr("src");
                windowTop = $(window).scrollTop();
                animateTop = {
                    position: "fixed",
                    width: "100%",
                    top: -1 *  windowTop
                };

                $(".wrapper").css(animateTop);

                $(".photo-detail-overlay").fadeIn();

                $(".overlay-photo-inner img").attr("src", photosSrc);

                if($imgHeight > 286) {
                    $(".overlay-photo-inner").css("width","40%");
                } else {
                    $(".overlay-photo-inner").css("width","72%");
                }

                $(".overlay-photo img").animate({scale:"1"},200);

            }, 700);
        });

        $("#overlay-quit").click(function () {

            $(".wrapper").attr({style:""});
            $("body").prop({ scrollTop: windowTop });

            $(".overlay-photo img").animate({scale:"0.1"},200);

            $(".photo-detail-overlay").fadeOut();
        });
    });
</script>
